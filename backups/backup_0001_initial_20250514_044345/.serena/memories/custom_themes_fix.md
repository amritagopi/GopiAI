# Исправление применения кастомных тем

## Проблема
При выборе цветов для создания кастомной темы в настройках темы, пользовательская тема добавлялась в словарь, но не применялась корректно.

## Причина
В методе `add_custom_theme` класса `ThemeManager` отправлялся сигнал `visualThemeChanged` с текущей темой вместо переключения на новую тему:

```python
self.visualThemeChanged.emit(self.current_visual_theme)
```

## Решение
Изменил метод `add_custom_theme`, чтобы он вызывал `switch_visual_theme` для переключения на новую тему сразу после её добавления в словарь:

```python
# Переключаемся на новую тему вместо просто отправки сигнала
self.switch_visual_theme(theme_name)
```

Это обеспечивает немедленное применение пользовательской темы после её создания или обновления, вместо простой отправки сигнала о том, что тема была добавлена в словарь.