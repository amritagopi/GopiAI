# Тестирование интернационализации GopiAI

## Цели
- Проверить корректность смены языка в рантайме
- Убедиться, что все ключи переводов присутствуют во всех языках
- Проверить, что основные UI-виджеты (SettingsWidget, MainWindow) корректно обновляют тексты при смене языка

## Автоматические тесты

### tests/test_i18n_translations.py
- Проверяет корректность работы менеджера переводов
- Проверяет, что сигнал languageChanged испускается
- Проверяет, что все ключи есть во всех языках

### tests/test_i18n_settingswidget.py
- Проверяет, что SettingsWidget корректно обновляет подписи при смене языка

### tests/test_i18n_mainwindow.py
- Проверяет, что MainWindow корректно обновляет заголовок окна при смене языка

## Как запускать

```bash
pytest tests/test_i18n_translations.py
pytest tests/test_i18n_settingswidget.py
pytest tests/test_i18n_mainwindow.py
```

## Автоматическая синхронизация переводов

Для поддержания порядка и симметрии между языками используйте автоматическую синхронизацию ключей:

- Все новые ключи должны добавляться одновременно в оба файла (`ru.json`, `en.json`).
- Если ключ добавлен только в один язык, используйте пометку `TODO: Translate (русский текст)` или `TODO: Перевести (English text)` для временного заполнения.
- Для полной синхронизации можно использовать вспомогательный скрипт (см. историю репозитория) или встроенные средства сравнения JSON.
- После синхронизации обязательно запускайте автотесты для проверки структуры.

## Рекомендации
- Добавлять тесты при добавлении новых языков или ключей
- Следить за тем, чтобы структура ключей была одинаковой во всех языках
- Не хранить временные скрипты синхронизации в репозитории — удаляйте их после использования
- Все новые строки UI должны сразу переводиться или помечаться как TODO для локализации
