# Совместимость с версиями Python в GopiAI

## Обнаруженные проблемы

В ходе разработки были обнаружены проблемы совместимости между разными версиями Python:

1. Системный Python 3.13 использовался по умолчанию, что вызывало ошибки в модуле CEF:
   ```
   Ошибка загрузки CEF: Python version not supported: 3.13.3
   ```

2. Внутреннее виртуальное окружение проекта использует Python 3.12, который совместим со всеми зависимостями.

## Решение проблем

Для решения проблем совместимости версий Python были выполнены следующие изменения:

1. Исправлен файл `autorun.bat` для принудительного использования Python из виртуального окружения (venv).

2. Создан скрипт `run_with_venv.py` для запуска приложения из Python виртуального окружения.

3. Создан файл `run_with_venv.bat` для простого запуска приложения с правильной версией Python.

4. Создан скрипт `fix_autorun.py` для восстановления и исправления файла `autorun.bat` в случае его повреждения.

5. Создан скрипт `check_python_version.py` для диагностики используемых версий Python.

6. Исправлен файл `app/ui/browser_tab_widget.py` для корректного импорта зависимостей и инициализации переменных.

## Рекомендации по запуску

Для корректной работы приложения следует использовать один из следующих методов запуска:

1. **Рекомендуемый способ:** Запуск через `autorun.bat` (обновленная версия).

2. **Альтернативный способ:** Запуск через `run_with_venv.bat`.

3. **Для разработки:** Активация виртуального окружения вручную и запуск через Python:
   ```
   call venv\Scripts\activate.bat
   python main.py
   ```

## Диагностика проблем

Если вы столкнулись с проблемами, связанными с версией Python, используйте:

```
python check_python_version.py
```

Этот скрипт выводит детальную информацию о системной версии Python, путях к интерпретаторам и переменных окружения.

## Примечания

- Модуль CEF не поддерживает Python 3.13, поэтому используется WebEngine в качестве альтернативы.
- Некоторые ошибки WebEngine, связанные с GPU, не влияют на основную функциональность приложения.
- Для установки cefpython3 в venv можно использовать: `pip install cefpython3==66.1`

## Последняя проверка совместимости

- Приложение протестировано с Python 3.12.0 (виртуальное окружение).
- WebEngine работает корректно для отображения веб-страниц.
- Обнаружены некритичные графические ошибки WebEngine, не влияющие на функциональность.
