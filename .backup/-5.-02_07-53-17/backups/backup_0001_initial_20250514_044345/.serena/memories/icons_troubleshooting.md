# Устранение проблем с отображением иконок Lucide

Если возникают проблемы с отображением иконок после перехода на Lucide, вот что было сделано для исправления:

1. Улучшена обработка ошибок в `LucideIconManager._create_icon_from_svg()`:
   - Добавлены проверки существования SVG файла
   - Добавлена обработка ошибок чтения файлов
   - Добавлена проверка валидности содержимого SVG
   - Добавлено создание версии иконки для состояния Disabled

2. Улучшен метод `_get_fallback_icon()` - теперь вместо пустой прозрачной иконки создается красный X, чтобы было видно где иконки не загрузились

3. Улучшен метод `_scan_available_icons()`:
   - Поиск иконок ведется в нескольких местах одновременно
   - Добавлено создание алиасов для иконок (замена дефисов на подчеркивания)
   - Добавлена поддержка приоритета директорий

4. Расширена карта соответствия имен иконок в `ICON_NAME_MAPPING` в `icon_adapter.py`:
   - Обновлены некоторые маппинги для более точного соответствия именам Lucide
   - Добавлены десятки новых иконок для UI компонентов

5. Добавлен скрипт `reset_icon_cache.py` с функциями:
   - Очистка кеша иконок
   - Проверка наличия SVG иконок в assets/icons/lucide
   - Копирование иконок из node_modules если нужно
   - Сброс состояния менеджеров иконок

6. Создана документация по устранению проблем с иконками в `reset_icon_cache_readme.md`

## Как пользоваться?

Для исправления проблем с отображением иконок:

1. Закрыть приложение GopiAI
2. Запустить скрипт `python reset_icon_cache.py` из корня проекта
3. Снова запустить приложение GopiAI

Важно: после внесения любых изменений в код, относящийся к иконкам, всегда перезапускайте приложение полностью.