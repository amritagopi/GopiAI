# Реализация эмодзи в GopiAI

## Обзор реализации
Для поддержки вставки эмодзи в GopiAI реализован специальный диалог выбора эмодзи (`EmojiDialog`) с гибкой системой загрузки и отображения эмодзи.

## Ключевые компоненты

1. **Данные эмодзи**:
   - Хранятся в JSON-формате в файле `assets/emoji/emoji_data.json`
   - Структура: категории эмодзи и список поддерживаемых шрифтов с эмодзи

2. **Диалог выбора эмодзи**:
   - Класс `EmojiDialog` в `app/ui/emoji_dialog.py`
   - Поддерживает выбор из предопределенных категорий эмодзи
   - Интегрирован поиск эмодзи

3. **Кнопки эмодзи**:
   - Класс `EmojiButton` для отображения отдельных эмодзи
   - Адаптивно использует доступные шрифты с поддержкой эмодзи

4. **Определение шрифта**:
   - Автоматически определяет доступные шрифты с поддержкой эмодзи в системе
   - Имеет запасные варианты в случае отсутствия специализированных шрифтов

5. **Поддержка иконок**:
   - Использует SVG иконки для вкладок категорий
   - Генерирует иконки категорий из эмодзи при отсутствии специализированных иконок

## Интеграция

1. **Вызов диалога**:
   - Из основного окна через метод `_show_emoji_dialog()` в `MainWindow`
   - Из диалога агента кодирования через метод `_show_emoji_selector()` в `CodingAgentDialog`

2. **Вставка эмодзи**:
   - Выбранный эмодзи передается через сигнал `emoji_selected`
   - Обработчики `_insert_emoji()` вставляют эмодзи в активное текстовое поле

## Улучшения:

1. Добавлена поддержка различных шрифтов эмодзи
2. Реализована обработка отсутствия шрифтов с эмодзи
3. Добавлен поиск по эмодзи и категориям
4. Улучшен пользовательский интерфейс и стилизация диалога
5. Добавлены иконки для категорий и кнопок

## Ресурсы
- Основной файл данных: `assets/emoji/emoji_data.json`
- SVG-иконка для эмодзи: `assets/emoji/emoji-icon-24.svg`