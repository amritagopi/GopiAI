# План очистки sys.path

## Анализ текущего состояния

Найдено 86 мест использования sys.path в проекте с множественными проблемами:

### 1. Дублирование путей
- `test_infrastructure` добавляется в 20+ файлах
- Пути к GopiAI-CrewAI добавляются в 15+ файлах
- Пути к GopiAI-UI добавляются в 10+ файлах

### 2. Недействительные пути
- `gopiai_integration` добавляется в нескольких местах, но директория не существует
- Некоторые пути могут указывать на несуществующие директории

### 3. Неэффективная структура
- Пути добавляются без проверки существования
- Отсутствует централизованная система управления путями

## План действий

### Этап 1: Создать централизованную систему управления путями
1. Создать `path_manager.py` в корне проекта
2. Реализовать функцию для безопасного добавления путей
3. Добавить проверки существования директорий

### Этап 2: Очистить существующие файлы
1. Заменить множественные добавления путей на импорт из централизованного модуля
2. Удалить дублирующиеся добавления
3. Исправить недействительные пути

### Этап 3: Тестирование
1. Проверить работу всех модулей после изменений
2. Убедиться, что импорты работают корректно

## Риски

- **Высокий**: Изменения в sys.path могут сломать импорты
- **Средний**: Некоторые пути могут быть необходимы для специфических сценариев
- **Низкий**: Удаление дубликатов не должно повлиять на функциональность

## Приоритетные файлы для исправления

1. `GopiAI-UI/gopiai/ui/components/crewai_client.py` - множественные добавления путей
2. `GopiAI-UI/gopiai/ui/main.py` - сложная логика добавления путей
3. `GopiAI-CrewAI/main.py` - основные пути проекта
4. Все тестовые файлы с дублирующимися добавлениями

## Метрики успеха

- Сокращение количества добавлений sys.path на 70%
- Устранение недействительных путей
- Централизованное управление путями