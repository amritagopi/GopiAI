# План исправления GopiAI после рефакторинга инструментов

## Проблемы из логов
1. **Инструменты не загружаются** (0 инструментов) - функция `load_tools_from_directory` ищет .py файлы в корне, а они в поддиректориях
2. **TaskStatus не сериализуется** - Enum с auto() не JSON-сериализуемый
3. **LLM использует несуществующую модель Ollama** - нужно переключить на API-ключи

## План исправлений

### Приоритет 1: Исправить сериализацию TaskStatus
- Изменить `to_dict()` метод для преобразования enum в строку
- Риск: низкий, простое исправление

### Приоритет 2: Исправить загрузку инструментов
- Модифицировать `load_tools_from_directory` для работы с поддиректориями
- Добавить правильную инициализацию __init__.py файлов
- Риск: средний, может повлиять на работу других частей

### Приоритет 3: Переключить LLM на реальные API-ключи
- Использовать Gemini или OpenRouter вместо Ollama
- Риск: средний, нужно правильно настроить конфигурацию

### Приоритет 4: Тестирование
- Запустить сервер и проверить загрузку инструментов
- Протестировать API-эндпоинты
- Риск: низкий

## Доступные ключи API (из .env)
- GEMINI_API_KEY ✓
- OPENROUTER_API_KEY ✓ 
- BRAVE_API_KEY ✓
- TAVILY_API_KEY ✓
- FIRECRAWL_API_KEY ✓
- И множество других...

## Изменения файлов
- `crewai_api_server.py` - исправить TaskStatus, функцию загрузки и LLM
- `tools/crewai_toolkit/tools/__init__.py` - добавить экспорты инструментов